{
  "apps" : [
    {
      "name"      : "mineweb_api",
      "script"    : "src/app.js",
      "exec_mode": "cluster",
      "instances": 1,
      "env": {
        "PORT": 3000,
        "MYSQL_HOST": "status.hardfight.fr",
        "MYSQL_USER": "mineweb",
        "MYSQL_PWD": "mineweb42",
        "MYSQL_DB": "mineweb",
        "NODE_ENV": "development"
      },
      "env_production" : {
        "PORT": 80,
        "MYSQL_HOST": "localhost",
        "MYSQL_USER": "mineweb",
        "MYSQL_PWD": "",
        "MYSQL_DB": "mineweb",
        "NODE_ENV": "production",
        "ELASTIC_URL": "http://51.255.36.38:9200"
      }
    }
  ],
  "deploy" : {
    "production" : {
      "user" : "mineweb",
      "host" : "51.255.36.8",
      "ref"  : "origin/master",
      "repo" : "git@github.com:vmarchaud/api.mineweb.org.git",
      "path" : "/home/mineweb/api/",
      "post-deploy" : "npm install && git submodule update --init && pm2 startOrGracefulReload ecosystem.json --env production"
    }
  }
}
